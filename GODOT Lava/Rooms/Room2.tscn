[gd_scene load_steps=14 format=3 uid="uid://cqgujudjk5tkk"]

[ext_resource type="Script" path="res://Rooms/Room1.gd" id="1_uhoe7"]
[ext_resource type="TileSet" uid="uid://dasdagv25fusk" path="res://Rooms/Room1.tres" id="2_q0a7b"]
[ext_resource type="Script" path="res://Rooms/DoorCollider.gd" id="3_bnqng"]
[ext_resource type="PackedScene" uid="uid://b5qcg20or457l" path="res://WaterDeco/large_container.tscn" id="4_7448g"]
[ext_resource type="PackedScene" uid="uid://nheg25pek2nv" path="res://WaterDeco/small_container.tscn" id="5_wha6j"]
[ext_resource type="PackedScene" uid="uid://caho3udchbjg4" path="res://small_pipe_h.tscn" id="6_myehl"]
[ext_resource type="PackedScene" uid="uid://btrerm4ykdpkd" path="res://small_pipe_v.tscn" id="7_1afe4"]
[ext_resource type="PackedScene" uid="uid://drnjb7xb2fey2" path="res://large_pipe_floor.tscn" id="8_7tg2t"]
[ext_resource type="AudioStream" uid="uid://b3poxbju1j6c1" path="res://door_open.wav" id="9_h054d"]
[ext_resource type="AudioStream" uid="uid://1nhelq0cxx1n" path="res://door_close.wav" id="10_6s1tu"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_ajoj8"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_oounv"]
vertices = PackedVector2Array(-523, 791, -409, -174, -409, 238, 409, 352, 543, 352, 535, 778, 409, 723, -324, 723, -324, 238, 247, -67, 238, -67, 238, -76, 247, -76, 556, -393, 552, -143, 552, -324, 409, -381, 302, -381, 409, -324, 295, -19, 295, -124, 418, -190, 418, 218, 275, -190, 190, -124, 275, 218, 190, -19, 275, 589, 96, 589, 96, 304, -10, 304, -10, 589, -190, 589, -190, 104, -275, 104, -275, -190, -190, -190, -190, -247, 275, -247)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 4, 5, 6), PackedInt32Array(6, 5, 0, 7), PackedInt32Array(7, 0, 2, 8), PackedInt32Array(9, 10, 11, 12), PackedInt32Array(13, 14, 15), PackedInt32Array(16, 17, 13), PackedInt32Array(16, 13, 15, 18), PackedInt32Array(19, 20, 21, 22), PackedInt32Array(23, 21, 20, 24), PackedInt32Array(19, 22, 25, 26), PackedInt32Array(25, 27, 28, 29), PackedInt32Array(30, 31, 32, 33), PackedInt32Array(33, 34, 35, 36, 24, 26), PackedInt32Array(36, 37, 38, 23, 24), PackedInt32Array(30, 33, 26, 25, 29)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-397, -356, -535, 802, 545, 788, 567, -404)])
source_geometry_group_name = &"navigation_polygon_source_group"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rolqb"]
size = Vector2(29, 25)

[node name="Room2" type="StaticBody2D"]
position = Vector2(0, -13)
scale = Vector2(0.997059, 1.03333)
collision_layer = 16
collision_mask = 5
physics_material_override = SubResource("PhysicsMaterial_ajoj8")
script = ExtResource("1_uhoe7")
end_door_tile = Vector2i(1, 0)
start_door_tile = Vector2i(-10, 0)
start_door_rotation = "east"
metadata/Type = "E"

[node name="Spawn" type="Node2D" parent="."]
position = Vector2(-247, 14)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
self_modulate = Color(1, 1, 1, 0)
navigation_polygon = SubResource("NavigationPolygon_oounv")

[node name="TileMap" type="TileMap" parent="NavigationRegion2D"]
z_index = -1
texture_filter = 1
scale = Vector2(1.78172, 1.78172)
tile_set = ExtResource("2_q0a7b")
format = 2
layer_0/name = "Walls"
layer_0/z_index = 1
layer_0/navigation_enabled = false
layer_0/tile_data = PackedInt32Array(-196617, 196608, 1342177280, -262152, 196608, 1342177280, -327687, 196608, 1342177280, -393210, 196608, 805306368, -327673, 196608, 805306368, -262136, 196608, 805306368, -262135, 0, 1342177280, -327672, 0, 1342177280, -393209, 0, 1342177280, -458746, 0, 1342177280, -393223, 0, 0, -327688, 0, 0, -262153, 0, 0, -196618, 0, 0, -393222, 131072, 805306368, -393221, 131072, 805306368, -393220, 131072, 805306368, -393219, 131072, 805306368, -393218, 131072, 805306368, -393217, 131072, 805306368, -458752, 131072, 805306368, -458751, 131072, 805306368, -458750, 131072, 805306368, -458749, 131072, 805306368, -458748, 131072, 805306368, -458747, 131072, 805306368, -196599, 131072, 1610612736, -131063, 131072, 1610612736, -65527, 131072, 1610612736, -131082, 131072, 1342177280, -65546, 131072, 1342177280, -10, 131072, 1342177280, 131062, 131072, 1342177280, 196598, 131072, 1342177280, 262134, 131072, 1342177280, 327670, 0, 1610612736, 327671, 196608, 0, 393207, 0, 1610612736, 393208, 196608, 0, 458744, 0, 1610612736, 458745, 196608, 0, 524281, 0, 1610612736, 524282, 131072, 0, 524283, 131072, 0, 524284, 131072, 0, 524285, 131072, 0, 524286, 131072, 0, 524287, 131072, 0, 458752, 131072, 0, 458753, 131072, 0, 458754, 131072, 0, 458755, 131072, 0, 458756, 131072, 0, 458757, 131072, 0, 393222, 196608, 1610612736, 458758, 0, 805306368, 327687, 196608, 1610612736, 393223, 0, 805306368, 262152, 196608, 1610612736, 327688, 0, 805306368, 65545, 131072, 1610612736, 131081, 131072, 1610612736, 196617, 131072, 1610612736, 262153, 0, 805306368, 65526, 131072, 1879048193, 9, 131072, 1610612736, 65534, 131072, 1610612736, 1, 131072, 1342177281, -65535, 131072, 1342177280, -2, 131072, 1610612736, 131070, 131072, 1610612736, 65537, 131072, 1342177280, 131073, 196608, 1342177280, 196606, 196608, 805306368, -65538, 196608, 1610612736, -131071, 196608, 0, -65537, 131072, 0, -131072, 131072, 0, 196607, 131072, 805306368, 131072, 131072, 805306368, -1, 65536, 0, -65536, 65536, 0, 0, 65536, 0, 65535, 65536, 0, 65536, 65536, 0, 131071, 65536, 0)
layer_1/name = "Floor"
layer_1/tile_data = PackedInt32Array(-196614, 327680, 0, -131078, 327680, 0, -65542, 327680, 0, -6, 327680, 0, 65530, 327680, 0, 131066, 327680, 0, 196602, 327680, 0, 262138, 327680, 0, -196613, 327680, 0, -131077, 327680, 0, -65541, 327680, 0, -5, 327680, 0, 65531, 327680, 0, 131067, 327680, 0, 196603, 327680, 0, 262139, 327680, 0, -196612, 327680, 0, -131076, 327680, 0, -65540, 327680, 0, -4, 327680, 0, 65532, 327680, 0, 131068, 327680, 0, 196604, 327680, 0, 262140, 327680, 0, -196611, 327680, 0, -131075, 327680, 0, -65539, 327680, 0, -3, 327680, 0, 65533, 327680, 0, 131069, 327680, 0, 196605, 327680, 0, 262141, 327680, 0, -196610, 327680, 0, -131074, 327680, 0, -65538, 327680, 0, -2, 327680, 0, 65534, 327680, 0, 131070, 327680, 0, 196606, 327680, 0, 262142, 327680, 0, -196609, 327680, 0, -131073, 327680, 0, -65537, 327680, 0, -1, 327680, 0, 65535, 327680, 0, 131071, 327680, 0, 196607, 327680, 0, 262143, 327680, 0, -262144, 327680, 0, -196608, 327680, 0, -131072, 327680, 0, -65536, 327680, 0, 0, 327680, 0, 65536, 327680, 0, 131072, 327680, 0, 196608, 327680, 0, -262143, 327680, 0, -196607, 327680, 0, -131071, 327680, 0, -65535, 327680, 0, 1, 327680, 0, 65537, 327680, 0, 131073, 327680, 0, 196609, 327680, 0, -262142, 327680, 0, -196606, 327680, 0, -131070, 327680, 0, -65534, 327680, 0, 2, 327680, 0, 65538, 327680, 0, 131074, 327680, 0, 196610, 327680, 0, -262141, 327680, 0, -196605, 327680, 0, -131069, 327680, 0, -65533, 327680, 0, 3, 327680, 0, 65539, 327680, 0, 131075, 327680, 0, 196611, 327680, 0, -262140, 327680, 0, -196604, 327680, 0, -131068, 327680, 0, -65532, 327680, 0, 4, 327680, 0, 65540, 327680, 0, 131076, 327680, 0, 196612, 327680, 0, -262139, 327680, 0, -196603, 327680, 0, -131067, 327680, 0, -65531, 327680, 0, 5, 327680, 0, 65541, 327680, 0, 131077, 327680, 0, 196613, 327680, 0, 327674, 327680, 0, 393210, 327680, 0, 327675, 327680, 0, 393211, 327680, 0, 327676, 327680, 0, 393212, 327680, 0, 327677, 327680, 0, 393213, 327680, 0, 327678, 327680, 0, 393214, 327680, 0, 327679, 327680, 0, 393215, 327680, 0, 262144, 327680, 0, 327680, 327680, 0, 262145, 327680, 0, 327681, 327680, 0, 262146, 327680, 0, 327682, 327680, 0, 262147, 327680, 0, 327683, 327680, 0, 262148, 327680, 0, 327684, 327680, 0, 262149, 327680, 0, 327685, 327680, 0, -327686, 327680, 0, -262150, 327680, 0, -327685, 327680, 0, -262149, 327680, 0, -327684, 327680, 0, -262148, 327680, 0, -327683, 327680, 0, -262147, 327680, 0, -327682, 327680, 0, -262146, 327680, 0, -327681, 327680, 0, -262145, 327680, 0, -393216, 327680, 0, -327680, 327680, 0, -393215, 327680, 0, -327679, 327680, 0, -393214, 327680, 0, -327678, 327680, 0, -393213, 327680, 0, -327677, 327680, 0, -393212, 327680, 0, -327676, 327680, 0, -393211, 327680, 0, -327675, 327680, 0, -262151, 327680, 0, -196615, 327680, 0, -131079, 327680, 0, -65543, 327680, 0, -7, 327680, 0, 65529, 327680, 0, 131065, 327680, 0, 196601, 327680, 0, 262137, 327680, 0, 327673, 327680, 0, -327674, 327680, 0, -262138, 327680, 0, -196602, 327680, 0, -131066, 327680, 0, -65530, 327680, 0, 6, 327680, 0, 65542, 327680, 0, 131078, 327680, 0, 196614, 327680, 0, 262150, 327680, 0, -196616, 327680, 0, -131080, 327680, 0, -65544, 327680, 0, -8, 327680, 0, 65528, 327680, 0, 131064, 327680, 0, 196600, 327680, 0, 262136, 327680, 0, -262137, 327680, 0, -196601, 327680, 0, -131065, 327680, 0, -65529, 327680, 0, 7, 327680, 0, 65543, 327680, 0, 131079, 327680, 0, 196615, 327680, 0, -131081, 327680, 0, -65545, 327680, 0, -9, 327680, 0, 65527, 327680, 0, 131063, 327680, 0, 196599, 327680, 0, -196600, 327680, 0, -131064, 327680, 0, -65528, 327680, 0, 8, 327680, 0, 65544, 327680, 0, 131080, 327680, 0, 262135, 327680, 0, 327672, 327680, 0, 393209, 327680, 0, 458746, 327680, 0, 458747, 327680, 0, 458748, 327680, 0, 458749, 327680, 0, 458750, 327680, 0, 458751, 327680, 0, 393216, 327680, 0, 393217, 327680, 0, 393218, 327680, 0, 393219, 327680, 0, 393220, 327680, 0, 393221, 327680, 0, 327686, 327680, 0, 262151, 327680, 0, 196616, 327680, 0)

[node name="DoorCollider" type="Area2D" parent="."]
position = Vector2(57, 5)
rotation = 1.57079
collision_layer = 0
collision_mask = 4
script = ExtResource("3_bnqng")

[node name="Door" type="CollisionShape2D" parent="DoorCollider"]
position = Vector2(9.5, -1)
rotation = 1.57079
shape = SubResource("RectangleShape2D_rolqb")
one_way_collision_margin = 128.0

[node name="Deco" type="Node2D" parent="."]
scale = Vector2(1.78172, 1.78172)

[node name="LargeContainer" parent="Deco" instance=ExtResource("4_7448g")]
position = Vector2(-86.4333, 101.587)
scale = Vector2(0.103271, 0.103271)

[node name="SmallContainer" parent="Deco" instance=ExtResource("5_wha6j")]
position = Vector2(-106.077, 89.8009)
scale = Vector2(0.103271, 0.103271)

[node name="LargeContainer2" parent="Deco" instance=ExtResource("4_7448g")]
position = Vector2(-134.701, 55.003)
scale = Vector2(0.103271, 0.103271)

[node name="SmallContainer2" parent="Deco" instance=ExtResource("5_wha6j")]
position = Vector2(-122.915, 62.8606)
scale = Vector2(0.103271, 0.103271)

[node name="LargeContainer3" parent="Deco" instance=ExtResource("4_7448g")]
position = Vector2(86.9946, 102.71)
scale = Vector2(0.103271, 0.103271)

[node name="SmallContainer3" parent="Deco" instance=ExtResource("5_wha6j")]
position = Vector2(78.0145, 106.077)
scale = Vector2(0.103271, 0.103271)

[node name="SmallContainer4" parent="Deco" instance=ExtResource("5_wha6j")]
position = Vector2(90.3621, 105.516)
scale = Vector2(0.103271, 0.103271)

[node name="SmallContainer5" parent="Deco" instance=ExtResource("5_wha6j")]
position = Vector2(120.109, 72.9632)
scale = Vector2(0.103271, 0.103271)

[node name="LargeContainer4" parent="Deco" instance=ExtResource("4_7448g")]
position = Vector2(-118.986, -61.7381)
scale = Vector2(0.103271, 0.103271)

[node name="SmallContainer6" parent="Deco" instance=ExtResource("5_wha6j")]
position = Vector2(-111.129, -57.2481)
scale = Vector2(0.103271, 0.103271)

[node name="SmallContainer7" parent="Deco" instance=ExtResource("5_wha6j")]
position = Vector2(-90.3621, -90.9234)
scale = Vector2(0.103271, 0.103271)

[node name="LargeContainer5" parent="Deco" instance=ExtResource("4_7448g")]
position = Vector2(95.4134, -49.9517)
scale = Vector2(0.103271, 0.103271)

[node name="SmallContainer8" parent="Deco" instance=ExtResource("5_wha6j")]
position = Vector2(61.7381, -21.889)
scale = Vector2(0.103271, 0.103271)

[node name="SmallContainer9" parent="Deco" instance=ExtResource("5_wha6j")]
position = Vector2(67.3506, -18.5214)
scale = Vector2(0.103271, 0.103271)

[node name="SmallContainer10" parent="Deco" instance=ExtResource("5_wha6j")]
position = Vector2(38.1654, -2.24502)
scale = Vector2(0.103271, 0.103271)

[node name="SmallPipe" parent="." instance=ExtResource("6_myehl")]
position = Vector2(-243, 40)
total_enemies = 2

[node name="SmallPipe2" parent="." instance=ExtResource("6_myehl")]
position = Vector2(-243, -8)
total_enemies = 2

[node name="SmallPipe3" parent="." instance=ExtResource("6_myehl")]
position = Vector2(-71, 13)
scale = Vector2(-0.184, 0.184)
total_enemies = 5

[node name="SmallPipe4" parent="." instance=ExtResource("7_1afe4")]
position = Vector2(0, 100)

[node name="SmallPipe5" parent="." instance=ExtResource("7_1afe4")]
position = Vector2(0, -71)
rotation = -3.14159

[node name="LagePipe" parent="." instance=ExtResource("8_7tg2t")]
position = Vector2(-158.466, 11)

[node name="DoorOpen" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("9_h054d")

[node name="DoorClose" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("10_6s1tu")

[connection signal="body_entered" from="DoorCollider" to="." method="_on_door_collider_body_entered"]
