[gd_scene load_steps=12 format=3 uid="uid://bb10vcnxpj4q3"]

[ext_resource type="Script" path="res://Rooms/Room1.gd" id="1_bo3r6"]
[ext_resource type="TileSet" uid="uid://dasdagv25fusk" path="res://Rooms/Room1.tres" id="2_7gyg7"]
[ext_resource type="Script" path="res://Rooms/DoorCollider.gd" id="3_8xtf3"]
[ext_resource type="PackedScene" uid="uid://b5qcg20or457l" path="res://WaterDeco/large_container.tscn" id="4_otxnl"]
[ext_resource type="PackedScene" uid="uid://nheg25pek2nv" path="res://WaterDeco/small_container.tscn" id="5_lqd70"]
[ext_resource type="PackedScene" uid="uid://bxa65yhqxwi4s" path="res://water_shop.tscn" id="6_8p543"]
[ext_resource type="AudioStream" uid="uid://b3poxbju1j6c1" path="res://door_open.wav" id="6_xv5lw"]
[ext_resource type="AudioStream" uid="uid://1nhelq0cxx1n" path="res://door_close.wav" id="7_b388a"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_ajoj8"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_l6glw"]
vertices = PackedVector2Array(-509, -53, -516, -53, -512, -451, -509, -82, -517, 53, -509, 53, -509, 81, -524, 791, -338, 81, -338, 138, -310, 138, -310, 195, -281, 195, -281, 252, -253, 252, -253, 281, 535, 778, -196, 309, -139, 338, -196, 281, -139, 309, 138, 338, 138, 309, 195, 309, 195, 281, 252, 281, 252, 252, 281, 252, 281, 195, 309, 195, 309, 138, 338, 138, 338, 81, 509, 81, 509, 53, 537, 53, 537, -53, 509, -53, 509, -82, 556, -394, 338, -82, 338, -139, 309, -139, 309, -196, 281, -196, 281, -253, 252, -253, 252, -281, 195, -281, 195, -310, 138, -310, 138, -338, -139, -338, -139, -310, -196, -310, -196, -281, -253, -281, -253, -253, -281, -253, -281, -196, -310, -196, -310, -139, -338, -139, -338, -82, 289, 33, 289, 90, 261, 90, 110, 81, 110, -82, 81, -110, 90, -261, 147, -261, 147, -233, 81, -82, 204, -233, 204, -204, 232, -204, 232, -147, 261, -147, 261, -90, 289, -90, 289, -33, 460, -33, 460, -5, 489, -5, 489, 4, 460, 4, 460, 33, -204, -204, -82, -110, -82, -82, -110, -82, -233, -147, -233, -204, -204, 204, -233, 147, -261, 90, -110, 81, -82, 81, -82, 110, -147, 232, 204, 204, 147, 232, 81, 110, 81, 81, 232, 147, 261, 147, 232, 204, 204, 232, 147, 261, 90, 261, 90, 289, -90, 289, -90, 261, -147, 261, -204, 232, -233, 204, -261, 147, -290, 90, -290, 33, -261, -90, -461, 33, -461, 4, -290, -33, -489, 4, -489, -5, -461, -5, -461, -33, -290, -90, -261, -147, -204, -233, -147, -233, -147, -261, -90, -261, -90, -290, 90, -290)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7), PackedInt32Array(6, 8, 9, 7), PackedInt32Array(9, 10, 11, 7), PackedInt32Array(11, 12, 13, 7), PackedInt32Array(13, 14, 15, 7), PackedInt32Array(16, 7, 15, 17, 18), PackedInt32Array(15, 19, 17), PackedInt32Array(17, 20, 18), PackedInt32Array(16, 18, 21), PackedInt32Array(21, 22, 23, 16), PackedInt32Array(23, 24, 25, 16), PackedInt32Array(25, 26, 27, 16), PackedInt32Array(27, 28, 29, 16), PackedInt32Array(29, 30, 31, 16), PackedInt32Array(31, 32, 33, 16), PackedInt32Array(33, 34, 35, 16), PackedInt32Array(36, 37, 38, 39), PackedInt32Array(38, 40, 41, 39), PackedInt32Array(41, 42, 43, 39), PackedInt32Array(43, 44, 45, 39), PackedInt32Array(45, 46, 47, 39), PackedInt32Array(47, 48, 49, 39), PackedInt32Array(49, 50, 51, 39), PackedInt32Array(52, 53, 54, 2), PackedInt32Array(54, 55, 56, 2), PackedInt32Array(56, 57, 58, 2), PackedInt32Array(58, 59, 60, 2), PackedInt32Array(60, 61, 62, 2), PackedInt32Array(62, 63, 3, 2), PackedInt32Array(52, 2, 39, 51), PackedInt32Array(39, 16, 35), PackedInt32Array(36, 39, 35), PackedInt32Array(64, 65, 66, 67, 68), PackedInt32Array(69, 70, 71, 72, 68, 73), PackedInt32Array(72, 74, 75, 68), PackedInt32Array(75, 76, 77, 68), PackedInt32Array(77, 78, 79, 68), PackedInt32Array(79, 80, 81, 68), PackedInt32Array(81, 82, 83), PackedInt32Array(83, 84, 85, 86), PackedInt32Array(86, 87, 64, 81), PackedInt32Array(88, 89, 90, 91, 92, 93), PackedInt32Array(94, 95, 96, 97, 98, 99, 100), PackedInt32Array(101, 102, 103, 104, 67, 105), PackedInt32Array(66, 106, 105, 67), PackedInt32Array(105, 107, 101), PackedInt32Array(101, 108, 102), PackedInt32Array(102, 109, 110, 103), PackedInt32Array(103, 110, 111, 112, 113, 99), PackedInt32Array(113, 114, 100, 99), PackedInt32Array(100, 115, 94), PackedInt32Array(94, 116, 95), PackedInt32Array(95, 117, 96), PackedInt32Array(92, 91, 97, 96, 118, 119, 120), PackedInt32Array(119, 121, 122, 123), PackedInt32Array(122, 124, 125, 126), PackedInt32Array(126, 127, 123), PackedInt32Array(123, 128, 120), PackedInt32Array(120, 129, 92), PackedInt32Array(88, 130, 131, 89), PackedInt32Array(89, 131, 132, 133, 69), PackedInt32Array(133, 134, 135, 70, 69), PackedInt32Array(81, 83, 86), PackedInt32Array(81, 64, 68), PackedInt32Array(123, 120, 119), PackedInt32Array(123, 122, 126)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-522, -462, -535, 802, 545, 788, 567, -404)])
source_geometry_group_name = &"navigation_polygon_source_group"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qbpct"]
size = Vector2(29, 25)

[node name="RoomBase" type="StaticBody2D"]
collision_layer = 16
collision_mask = 5
physics_material_override = SubResource("PhysicsMaterial_ajoj8")
script = ExtResource("1_bo3r6")
end_door_tile = Vector2i(-4, -6)
start_door_tile = Vector2i(-1, 3)
end_door_rotation = "south"
start_door_rotation = "north"
room_completed = true
metadata/Type = "E"
metadata/_edit_horizontal_guides_ = [1307.0]

[node name="Spawn" type="Node2D" parent="."]
position = Vector2(0, 87)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
self_modulate = Color(1, 1, 1, 0)
navigation_polygon = SubResource("NavigationPolygon_l6glw")

[node name="TileMap" type="TileMap" parent="NavigationRegion2D"]
z_index = -1
texture_filter = 1
position = Vector2(14, 14)
scale = Vector2(1.78172, 1.78172)
tile_set = ExtResource("2_7gyg7")
format = 2
layer_0/name = "Walls"
layer_0/z_index = 1
layer_0/navigation_enabled = false
layer_0/tile_data = PackedInt32Array(262143, 131072, 1, -327684, 131072, 805306369, 65537, 196608, 1610612736, 131069, 196608, 0, -4, 196608, 0, -262146, 196608, 805306368, 131068, 0, 1610612736, -6, 0, 1610612736, 65538, 0, 805306368, 196609, 0, 805306368, 262141, 0, 1610612736, -327686, 0, 0, -327682, 0, 1342177280, -327678, 0, 1342177280, -327685, 131072, 805306368, -327683, 131072, 805306368, -262145, 131072, 805306368, -327680, 131072, 805306368, -327679, 131072, 805306368, -262142, 131072, 1610612736, -196606, 131072, 1610612736, -131070, 131072, 1610612736, -65534, 131072, 1610612736, 2, 131072, 1610612736, 131073, 131072, 1610612736, 262142, 131072, 0, 196608, 131072, 0, 196605, 131072, 1342177280, 65532, 131072, 1342177280, -5, 131072, 0, -65542, 131072, 1342177280, -131078, 131072, 1342177280, -196614, 131072, 1342177280, -262150, 131072, 1342177280)
layer_1/name = "Floor"
layer_1/tile_data = PackedInt32Array(-1, 327680, 0, -3, 327680, 0, -2, 327680, 0, -65536, 327680, 0, -65535, 327680, 0, -65539, 327680, 0, -65538, 327680, 0, -131071, 327680, 0, -131072, 327680, 0, -65537, 327680, 0, 65533, 327680, 0, 65534, 327680, 0, 65535, 327680, 0, 0, 327680, 0, 1, 327680, 0, -196607, 327680, 0, -262143, 327680, 0, -262144, 327680, 0, -196609, 327680, 0, -196610, 327680, 0, -196611, 327680, 0, -131075, 327680, 0, -131074, 327680, 0, -131073, 327680, 0, -196608, 327680, 0, 131071, 327680, 0, 131070, 327680, 0, 65536, 327680, 0, 196607, 327680, 0, 196606, 327680, 0, 131072, 327680, 0, -262147, 327680, 0, -262148, 327680, 0, -262149, 327680, 0, -196612, 327680, 0, -196613, 327680, 0, -131076, 327680, 0, -131077, 327680, 0, -65540, 327680, 0, -65541, 327680, 0)

[node name="DoorCollider" type="Area2D" parent="."]
position = Vector2(-86, -140)
rotation = 1.57079
collision_layer = 0
collision_mask = 4
script = ExtResource("3_8xtf3")

[node name="Door" type="CollisionShape2D" parent="DoorCollider"]
position = Vector2(9.5, -1)
rotation = 1.57079
shape = SubResource("RectangleShape2D_qbpct")
one_way_collision_margin = 128.0

[node name="Deco" type="Node2D" parent="."]
z_index = 1

[node name="DoorOpen" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("6_xv5lw")

[node name="DoorClose" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("7_b388a")

[node name="WaterShop" parent="." instance=ExtResource("6_8p543")]
position = Vector2(23, -97)

[node name="LargeContainer" parent="." instance=ExtResource("4_otxnl")]
position = Vector2(-19, -97)

[node name="SmallContainer" parent="." instance=ExtResource("5_lqd70")]
position = Vector2(-39, -87)

[node name="SmallContainer2" parent="." instance=ExtResource("5_lqd70")]
position = Vector2(-96, -42)

[node name="LargeContainer2" parent="." instance=ExtResource("4_otxnl")]
position = Vector2(-111, -30)

[node name="LargeContainer3" parent="." instance=ExtResource("4_otxnl")]
position = Vector2(-56, 27)

[node name="SmallContainer3" parent="." instance=ExtResource("5_lqd70")]
position = Vector2(57, 20)

[node name="SmallContainer4" parent="." instance=ExtResource("5_lqd70")]
position = Vector2(62, 30)

[node name="SmallContainer5" parent="." instance=ExtResource("5_lqd70")]
position = Vector2(61, -92)

[connection signal="body_entered" from="DoorCollider" to="." method="_on_door_collider_body_entered"]
